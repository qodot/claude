
# 글로벌 에이전트 설정

- 커스텀 명령어, 설정, 프로젝트 구성을 포함하는 **글로벌 에이전트 설정 저장소**(`.claude/` 디렉토리)입니다.
- 이 저장소는 특화된 Git 워크플로우 자동화 및 명령어 생성 도구를 통해 에이전트 경험을 향상시키도록 설계되었습니다.

## 사용 언어

- 항상 사용자에게 보이는 모든 텍스트는 한국어로 작성한다(답변, 단계 설명, 예시 코드의 주석, 커밋 메시지 포함).
- 입력 언어가 영어여도 한국어로. 단, 코드/에러/인용문은 원문을 유지한다.

## 핵심 아키텍처

### 커스텀 슬래시 명령어 (`commands/`)

이 저장소는 모두 한국어로 작성된 3개의 주요 슬래시 명령어를 포함합니다:

1. **`/commit`** - 자동화된 Git 커밋 워크플로우
   - 아무것도 스테이징되지 않은 경우 자동으로 변경사항 스테이징
   - 변경사항 분석을 기반으로 스마트한 커밋 메시지 생성
   - **중요 규칙**: Claude Code 서명이나 공동 작성자 태그를 절대 포함하지 않음
   - 사용자 제공 메시지와 자동 생성 메시지 모두 지원

2. **`/pr`** - GitHub Pull Request 자동화
   - 베이스 브랜치에서 분기된 이후의 현재 브랜치 변경사항 분석
   - SPR 티켓 번호를 사용하는 Django 프로젝트 규칙 준수
   - 기본적으로 draft PR 생성 (일반 PR은 `--no-draft` 사용)
   - 생성 후 자동으로 브라우저에서 PR 열기
   - **중요 규칙**: PR 설명에 Claude Code 서명을 절대 포함하지 않음

3. **`/new-command`** - 새 슬래시 명령어 생성을 위한 메타 명령어
   - 고급 프롬프트 엔지니어링 기법 구현
   - 명령어 범위를 위한 `--mode=project|user` 지원
   - 다국어 지원을 위한 `--lang=<언어>` 지원 (기본값은 영어)
   - `~/.claude/tools/get-prompting-guides.sh`를 통해 프롬프트 엔지니어링 가이드 읽기
   - 생성된 명령어에 이모지를 절대 포함하지 않음 (강조를 위해 대문자와 **굵은 글씨** 사용)
   - allowed-tools에 포맷팅 도구를 절대 포함하지 않음

### 설정 구조

- **`settings.json`**: 전역 Claude Code 설정
  - 커스텀 상태줄 표시: `디렉토리 @ 모델 [git-브랜치]`
  - 훅 설정
  - Always Thinking 모드 설정

- **`projects/`**: 프로젝트별 설정 디렉토리
  - 각 하위 디렉토리는 작업공간에 대응
  - 프로젝트별 설정 및 상태 유지

- **`tools/`**: 유틸리티 스크립트
  - `get-prompting-guides.sh`: 최신 프롬프트 엔지니어링 문서 가져오기

### Git 규칙

커밋 히스토리를 기반으로, 이 저장소는 다음 규칙을 따릅니다:

- **커밋 메시지 형식**: 영어와 한국어 모두 사용
  - 영어 형식: `<type>: <설명>` (예: `feat:`, `refactor:`, `docs:`)
  - 한국어 설명도 사용됨
- **Claude 서명 없음**: Claude Code 출처 표시를 명시적으로 피함
- **원자적 커밋**: 각 커밋은 단일 논리적 변경사항에 집중

## 일반적인 개발 작업

### 새 슬래시 명령어 만들기

```bash
# 영어 명령어 (기본값)
/new-command command-name "command purpose description"

# 한국어 명령어
/new-command command-name "명령어 목적 설명" --lang=korean

# 프로젝트 전용 명령어
/new-command command-name "purpose" --mode=project
```

### 커밋하기

```bash
# 커밋 메시지 자동 생성
/commit

# 커스텀 메시지로 커밋
/commit "feat: add new feature"
```

### Pull Request 만들기

```bash
# draft PR 생성 (기본값)
/pr

# 일반 PR 생성
/pr --no-draft

# 베이스 브랜치 지정
/pr --base=develop
```

## 중요 가이드라인

### 슬래시 명령어 작업 시

1. **Claude Code 서명을 절대 추가하지 않음** - `/commit`과 `/pr` 명령어는 다음을 추가하는 것을 명시적으로 금지합니다:
   - "🤖 Generated with [Claude Code]"
   - "Co-Authored-By: Claude <noreply@anthropic.com>"
   - 기타 모든 Claude 관련 출처 표시

2. **언어 일관성** - 생성된 명령어는 `--lang`이 지정되지 않는 한 기본적으로 영어여야 함

3. **생성된 명령어에 이모지 사용 금지** - 강조를 위해 **굵은 글씨**나 대문자 사용

4. **최소 도구 권한** - `allowed-tools` 지정 시 항상 최소 권한 원칙을 따름

### 명령어 구조 모범 사례

슬래시 명령어 생성 또는 수정 시:

- 프론트매터에 항상 `description`과 `argument-hint` 포함
- 도구 권한에 글로브 패턴 사용 (예: `Bash(git:*)`)
- 포괄적인 역할 정의 및 단계별 프로세스 포함
- 품질 보증 및 검증 단계 추가
- 명확한 출력 형식 사양 제공

## 파일 구조

- **루트 디렉토리**: 설정 및 메타데이터
- **`commands/`**: 커스텀 슬래시 명령어 (프로젝트 `.claude/` 디렉토리에 있으면 프로젝트 범위)
- **`config/`**: 추가 설정 (현재 비어있음)
- **`projects/`**: 프로젝트별 설정 (gitignored)
- **`tools/`**: 유틸리티 스크립트
- **`debug/`, `file-history/`, `shell-snapshots/`, `todos/`**: 런타임 데이터 (gitignored)

## 상태줄 설정

커스텀 상태줄은 다음과 같이 표시됩니다:
```
디렉토리 @ 모델 [git-브랜치]
```

이것은 다음 정보를 한눈에 제공합니다:
- 현재 작업 디렉토리
- 활성 Claude 모델
- 현재 Git 브랜치 (저장소에 있는 경우)
