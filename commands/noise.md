---
allowed-tools: Bash(date:*), Bash(mkdir:*), Write(*)
description: 층간 소음 발생 시점과 불이 켜진 호수를 기록하여 소음 원인 파악
argument-hint: [호수번호들...]
---

# Claude Command: 층간 소음 기록

## 사용법
```
/noise [호수번호들...]
```

**예시:**
```
/noise 202 401 502
/noise 301 303
/noise
```

## 이 명령어가 하는 일
302호에서 층간 소음이 발생했을 때, 현재 시각과 불이 켜진 호수들을 기록하여 소음의 원인을 파악할 수 있도록 돕습니다. 기록은 ASCII 아트로 시각화된 아파트 구조와 함께 obsidian/noise 폴더에 저장됩니다.

**추적 대상 호수:** 201, 202, 203, 301, 303, 401, 402, 403, 501, 502, 503
**현재 집:** 302호

## 역할 정의
당신은 층간 소음 패턴 분석 전문가입니다. 시간대별 소음 발생과 이웃들의 재실 패턴을 체계적으로 기록하고 시각화하여, 소음의 원인을 과학적으로 추적할 수 있도록 돕습니다.

## 프로세스

### 1. 현재 시각 확인
Bash 도구를 사용하여 현재 날짜와 시간을 정확히 가져옵니다.

### 2. 디렉토리 확인 및 생성
obsidian/noise 폴더가 존재하는지 확인하고, 없으면 생성합니다.

### 3. 데이터 분석
- 입력된 호수 번호들을 파싱합니다
- 302호를 중심으로 상하좌우 이웃 관계를 분석합니다
- 각 층별 의심 호수를 분류합니다

### 4. ASCII 아트 생성
다음 형식으로 아파트 구조를 시각화합니다.

**중요**: 위쪽 ASCII 아트 테이블 부분만 전각 문자를 사용하여 옵시디안에서 정렬이 맞도록 합니다. 분석 섹션은 마크다운 헤더와 일반 문자를 사용합니다.

```
━━━━━━━━━━━━━━━━━━━━━━━━
　　　　　　　５층　（５００호대）
━━━━━━━━━━━━━━━━━━━━━━━━
　　５０１　　｜　　５０２　　｜　　５０３
　　[상태]　　｜　　[상태]　　｜　　[상태]
━━━━━━━━━━━━━━━━━━━━━━━━
　　　　　　　４층　（４００호대）
━━━━━━━━━━━━━━━━━━━━━━━━
　　４０１　　｜　　４０２　　｜　　４０３
　　[상태]　　｜　　[상태]　　｜　　[상태]
━━━━━━━━━━━━━━━━━━━━━━━━
　　　　　　　３층　（３００호대）
━━━━━━━━━━━━━━━━━━━━━━━━
　　３０１　　｜★　３０２　★｜　　３０３
　　[상태]　　｜　　우리집　　｜　　[상태]
━━━━━━━━━━━━━━━━━━━━━━━━
　　　　　　　２층　（２００호대）
━━━━━━━━━━━━━━━━━━━━━━━━
　　２０１　　｜　　２０２　　｜　　２０３
　　[상태]　　｜　　[상태]　　｜　　[상태]
━━━━━━━━━━━━━━━━━━━━━━━━

# 🔍 분석 결과

【위층 (4층)】
  • 401호: [상태 및 의심도]
  • 402호: [상태 및 의심도] - 바로 위층
  • 403호: [상태 및 의심도]

【같은 층 (3층)】
  • 301호: [상태 및 의심도] - 왼쪽 이웃
  • 303호: [상태 및 의심도] - 오른쪽 이웃

【아래층 (2층)】
  • 201호: [상태]
  • 202호: [상태] - 바로 아래층
  • 203호: [상태]

【위위층 (5층)】
  • 501호: [상태]
  • 502호: [상태]
  • 503호: [상태]

# 📊 의심 우선순위

1. [가장 의심되는 호수 및 이유]
2. [두 번째 의심 호수 및 이유]
3. [세 번째 의심 호수 및 이유]

# 💡 특이사항

- [패턴 분석 및 특이사항 기록]
```

**ASCII 아트 규칙**:
- 테이블 부분(5층부터 2층까지)은 전각 문자 사용
  - 전각 숫자: ０１２３４５６７８９
  - 전각 알파벳: ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺ
  - 전각 세로선: ｜
  - 전각 스페이스:
- 각 셀의 너비를 맞추어 정렬
- 분석 결과 섹션은 마크다운 헤더(#)와 일반 한글/반각 문자 사용

**상태 표시**:
- `🟢　ＯＦＦ`: 불이 꺼져있음 (재실 가능성 낮음)
- `🔴　ＯＮ`: 불이 켜져있음 (재실 중, 의심 대상)
- 바로 위층: 402호 - 가장 큰 영향
- 왼쪽/오른쪽: 301호/303호 - 벽 소음 가능

### 5. 파일 저장
생성된 기록을 다음 형식의 파일명으로 저장합니다:
- 형식: `YYYY-MM-DD_HH-MM-SS.md`
- 위치: `obsidian/noise/`
- 예시: `2025-11-01_14-30-45.md`

### 6. 결과 보고
사용자에게 기록 완료를 알리고 파일 경로를 제공합니다.

## 출력 형식

명령어 실행 후 다음과 같이 사용자에게 보고합니다:

```
층간 소음 기록이 완료되었습니다.

📝 파일: obsidian/noise/YYYY-MM-DD_HH-MM-SS.md
🕐 기록 시각: YYYY년 MM월 DD일 HH시 MM분 SS초
🏠 불이 켜진 호수: [입력된 호수 목록]

🔍 주요 의심 대상:
  1. XXX호 - [이유]
  2. XXX호 - [이유]
```

## 품질 보증

### 입력 검증
- 호수 번호가 추적 대상 목록(201, 202, 203, 301, 303, 401, 402, 403, 501, 502, 503)에 포함되는지 확인
- 잘못된 호수 번호는 무시하고 경고 메시지 출력
- 호수 번호가 하나도 입력되지 않은 경우도 정상 처리 (모든 집 불 꺼짐)

### 디렉토리 검증
- obsidian/noise 폴더 존재 여부 확인
- 폴더가 없으면 자동 생성

### 파일 생성 확인
- 파일이 정상적으로 생성되었는지 검증
- 파일 경로를 사용자에게 명확히 제공

### 데이터 정확성
- 현재 시각이 정확히 기록되었는지 확인
- ASCII 아트가 올바르게 렌더링되는지 확인
- 모든 층과 호수가 빠짐없이 표시되는지 확인

### 분석의 합리성
- 302호를 기준으로 바로 위층(402호)을 최우선 의심 대상으로 분석
- 같은 층 이웃(301, 303)을 두 번째 우선순위로 분석
- 불이 켜진 호수를 재실 중으로 간주하여 의심도 상향

## 중요 사항

1. **시간 정확성**: 반드시 명령어 실행 시점의 정확한 시각을 기록합니다.

2. **ASCII 아트 형식**: 마크다운 코드 블록 내에서 ASCII 아트가 정렬되도록 고정폭 글꼴을 고려합니다.

3. **분석의 객관성**: 입력된 데이터를 바탕으로 객관적인 분석을 제공하되, 302호의 위치적 특성을 고려합니다.

4. **일관성**: 모든 기록이 동일한 형식으로 저장되어 나중에 패턴 분석이 용이하도록 합니다.

5. **한국어 사용**: 모든 텍스트와 설명은 한국어로 작성합니다.
